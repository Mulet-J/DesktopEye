<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:viewModels="clr-namespace:DesktopEye.Common.ViewModels"
        xmlns:views1="clr-namespace:DesktopEye.Common.Views"
        mc:Ignorable="d" d:DesignWidth="800" d:DesignHeight="450"
        x:Class="DesktopEye.Common.Views.MainWindow"
        Icon="/Assets/avalonia-logo.ico"
        Title="DesktopEye.Common"
        ExtendClientAreaToDecorationsHint="True"
        ExtendClientAreaChromeHints="NoChrome"
        ExtendClientAreaTitleBarHeightHint="-1"
        SystemDecorations="BorderOnly"
        TransparencyLevelHint="AcrylicBlur"
        Background="Transparent">

    <Design.DataContext>
        <viewModels:MainViewModel />
    </Design.DataContext>

    <Window.Styles>
        <Style Selector="Button.windowControl">
            <Setter Property="Background" Value="Transparent" />
            <Setter Property="Foreground" Value="White" />
            <Setter Property="BorderThickness" Value="0" />
            <Setter Property="Width" Value="32" />
            <Setter Property="Height" Value="32" />
            <Setter Property="Padding" Value="8" />
            <Setter Property="HorizontalContentAlignment" Value="Center" />
            <Setter Property="VerticalContentAlignment" Value="Center" />
        </Style>
        <Style Selector="Button.windowControl:pointerover">
            <Setter Property="Background" Value="#22FFFFFF" />
        </Style>
        <Style Selector="Button.closeButton:pointerover">
            <Setter Property="Background" Value="#E81123" />
        </Style>
    </Window.Styles>

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="32" />
            <RowDefinition Height="*" />
        </Grid.RowDefinitions>

        <!-- Barre de titre personnalisée -->
        <Border Grid.Row="0" Background="#1F1F1F">
            <Grid ColumnDefinitions="Auto,*,Auto">
                <!-- Logo et titre -->
                <StackPanel Grid.Column="0" Orientation="Horizontal" Margin="8,0,0,0" VerticalAlignment="Center">
                    <Image Source="/Assets/avalonia-logo.ico" Width="16" Height="16" Margin="0,0,8,0" />
                    <TextBlock Text="Desktop Eye" Foreground="White" VerticalAlignment="Center" FontSize="12" />
                </StackPanel>

                <!-- Zone pour déplacer la fenêtre -->
                <Grid Grid.Column="1" Background="Transparent" PointerPressed="OnTitleBarPointerPressed" />

                <!-- Boutons de fenêtre -->
                <StackPanel Grid.Column="2" Orientation="Horizontal" HorizontalAlignment="Right">
                    <Button x:Name="MinimizeButton" Classes="windowControl" Click="MinimizeWindow"
                            ToolTip.Tip="Minimiser">
                        <Path Data="M 0,0 H 10 V 1 H 0 Z" Fill="White" Stretch="Uniform" />
                    </Button>
                    <Button x:Name="CloseButton" Classes="windowControl closeButton" Click="CloseWindow"
                            ToolTip.Tip="Fermer">
                        <Path Data="M 0,0 L 10,10 M 0,10 L 10,0" Stroke="White" StrokeThickness="1" Stretch="Uniform" />
                    </Button>
                </StackPanel>
            </Grid>
        </Border>

        <!-- Contenu principal -->
        <Panel Grid.Row="1">
            <views1:MainView x:Name="MainView" />
        </Panel>
    </Grid>
</Window>